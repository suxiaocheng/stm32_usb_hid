; generated by ARM C/C++ Compiler, RVCT4.0 [Build 728]
; commandline ArmCC [--split_sections --debug -c --asm --interleave -o.\STM3210B-EVAL\usb_mem.o --depend=.\STM3210B-EVAL\usb_mem.d --cpu=Cortex-M3 --apcs=interwork -O3 -I..\inc -I..\..\..\Libraries\CMSIS\Device\ST\STM32F10x\Include -I..\..\..\Libraries\STM32_USB-FS-Device_Driver\inc -I..\..\..\Libraries\STM32F10x_StdPeriph_Driver\inc -I..\..\..\Utilities\STM32_EVAL -I..\..\..\Utilities\STM32_EVAL\Common -I..\..\..\Utilities\STM32_EVAL\STM3210B_EVAL -ID:\Keil\ARM\INC -ID:\Keil\ARM\INC\ST\STM32F10x -D__MICROLIB -DUSE_STDPERIPH_DRIVER -DSTM32F10X_MD -DUSE_STM3210B_EVAL --omf_browse=.\STM3210B-EVAL\usb_mem.crf ..\..\..\Libraries\STM32_USB-FS-Device_Driver\src\usb_mem.c]
                          THUMB

                          AREA ||i.PMAToUserBufferCopy||, CODE, READONLY, ALIGN=2

                  PMAToUserBufferCopy PROC
;;;73     *******************************************************************************/
;;;74     void PMAToUserBufferCopy(uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes)
000000  4b06              LDR      r3,|L1.28|
;;;75     {
000002  b510              PUSH     {r4,lr}
;;;76       uint32_t n = (wNBytes + 1) >> 1;/* /2*/
000004  1c52              ADDS     r2,r2,#1
000006  0852              LSRS     r2,r2,#1
;;;77       uint32_t i;
;;;78       uint32_t *pdwVal;
;;;79       pdwVal = (uint32_t *)(wPMABufAddr * 2 + PMAAddr);
000008  eb030141          ADD      r1,r3,r1,LSL #1
;;;80       for (i = n; i != 0; i--)
00000c  d004              BEQ      |L1.24|
                  |L1.14|
;;;81       {
;;;82         *(uint16_t*)pbUsrBuf++ = *pdwVal++;
00000e  c910              LDM      r1!,{r4}
000010  f8204b02          STRH     r4,[r0],#2
000014  1e52              SUBS     r2,r2,#1              ;80
000016  d1fa              BNE      |L1.14|
                  |L1.24|
;;;83         pbUsrBuf++;
;;;84       }
;;;85     }
000018  bd10              POP      {r4,pc}
;;;86     
                          ENDP

00001a  0000              DCW      0x0000
                  |L1.28|
                          DCD      0x40006000

                          AREA ||i.UserToPMABufferCopy||, CODE, READONLY, ALIGN=2

                  UserToPMABufferCopy PROC
;;;47     *******************************************************************************/
;;;48     void UserToPMABufferCopy(uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes)
000000  4b08              LDR      r3,|L2.36|
;;;49     {
000002  b510              PUSH     {r4,lr}
;;;50       uint32_t n = (wNBytes + 1) >> 1;   /* n = (wNBytes + 1) / 2 */
000004  1c52              ADDS     r2,r2,#1
000006  0852              LSRS     r2,r2,#1
;;;51       uint32_t i, temp1, temp2;
;;;52       uint16_t *pdwVal;
;;;53       pdwVal = (uint16_t *)(wPMABufAddr * 2 + PMAAddr);
000008  eb030141          ADD      r1,r3,r1,LSL #1
;;;54       for (i = n; i != 0; i--)
00000c  d009              BEQ      |L2.34|
                  |L2.14|
;;;55       {
;;;56         temp1 = (uint16_t) * pbUsrBuf;
00000e  7803              LDRB     r3,[r0,#0]
;;;57         pbUsrBuf++;
;;;58         temp2 = temp1 | (uint16_t) * pbUsrBuf << 8;
000010  f8104f01          LDRB     r4,[r0,#1]!
;;;59         *pdwVal++ = temp2;
;;;60         pdwVal++;
;;;61         pbUsrBuf++;
000014  1c40              ADDS     r0,r0,#1
000016  ea432304          ORR      r3,r3,r4,LSL #8       ;58
00001a  f8213b04          STRH     r3,[r1],#4            ;59
00001e  1e52              SUBS     r2,r2,#1              ;54
000020  d1f5              BNE      |L2.14|
                  |L2.34|
;;;62       }
;;;63     }
000022  bd10              POP      {r4,pc}
;;;64     
                          ENDP

                  |L2.36|
                          DCD      0x40006000
